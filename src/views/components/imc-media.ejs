<%
    min = 18.5;
    max = 24.9;

    abaixo = 0;
    media = 0;
    acima = 0;

    total = 0;
%>

<% table.data.forEach((f) => {

    if (Number(f.imc)) {
        if (Number(f.imc) < Number(min)) {
            abaixo = Number(abaixo) + 1;
        } else if (Number(f.imc) > Number(max)) {
            acima = Number(acima) + 1;
        } else {
            media = Number(media) + 1;
        }

        total = Number(total) + 1;
    }

}) %>

<%
    abaixo = 100 / (Number(total) / Number(abaixo));
    media = 100 / (Number(total) / Number(media));
    acima = 100 / (Number(total) / Number(acima));

    abaixo = Number(abaixo) - Number(abaixo) % 1;
    media = Number(media) - Number(media) % 1;
    acima = Number(acima) - Number(acima) % 1;
%>


<div class="center">
    <p><b>IMC dos colaboradores:</b></p>
</div>

<div class="box-1">
    <div class="cont-1">
        <div class="center">
            <p>Abaixo do peso:</p>
        </div>

        <div class="center">
            <div class="circle">
                <div class="progress" style="--i:<%= abaixo %>%; --clt:rgb(255, 235, 102);">
                    <h2><%= abaixo %><small>%</small></h2>
                </div>
            </div>
        </div>
    </div>

    <div class="cont-1">
        <div class="center">
            <p>MÃ©dia do peso:</p>
        </div>

        <div class="center">
            <div class="circle">
                <div class="progress" style="--i:<%= media %>%; --clt:rgb(150, 255, 102);">
                    <h2><%= media %><small>%</small></h2>
                </div>
            </div>
        </div>
    </div>

    <div class="cont-1">
        <div class="center">
            <p>Acima do peso:</p>
        </div>

        <div class="center">
            <div class="circle">
                <div class="progress" style="--i:<%= acima %>%; --clt:rgb(193, 51, 51);">
                    <h2><%= acima %><small>%</small></h2>
                </div>
            </div>
        </div>
    </div>
</div>